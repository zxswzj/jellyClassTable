<view class="body z-flex" style="{{'--dir:var(--dir-col);--wrap:var(--wrap-no);'+('background:'+('linear-gradient('+cfg.bgc+', '+cfg.bgcGradient+')')+';')}}" id="topview"><view class="head"></view><view class="main z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-no);"><view class="dp-fc fd-c ruler-dummy"></view><view class="dp-fc fd-c ruler"><block wx:for="{{projs.timeSpan}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="dp-fc f-1 w100 h100 time-vertical" style="{{'background:'+('linear-gradient('+cfg.axisColor+', '+cfg.axisColorGradient+')')+';'}}"><view class="dot dp-fc" style="{{'text-align:center;'+('color:'+(cfg.axisTextColor)+';')+('background:'+(cfg.axisTextBgc)+';')}}"><text>{{projs.startLineTime/60+i}}</text></view></view></block></view><view class="dp-fc fd-c ruler-dummy"></view><view class="table" id="idtable"><block wx:for="{{$root.l1}}" wx:for-item="item1" wx:for-index="i" wx:key="i"><view hidden="{{!(item1.m0)}}" class="col-frame" style="{{'height:'+(projs.tableHeight+'px')+';'+('background:'+('linear-gradient('+cfg.colBgc+', '+cfg.colBgcGradient+')')+';')+('box-shadow:'+(item1.m1?'2px 2px 5px 4px '+cfg.highlightBorderColor:'transparent')+';')}}" data-class="{{item1.$orig}}" data-x="{{i}}" data-event-opts="{{[['tap',[['onNewClass',['$event']]]],['longpress',[['onNewClass',['$event']]]]]}}" catchtap="__e" catchlongpress="__e"><block wx:for="{{item1.l0}}" wx:for-item="item2" wx:for-index="j" wx:key="j"><view class="dp-fc fw-w item-frame o-h" style="{{'margin-top:'+(item2.$orig.margintop+'px')+';'+('height:'+(item2.$orig.height+'px')+';')+('background:'+('linear-gradient('+item2.$orig.classBgc+', '+item2.$orig.classBgcGradient+')')+';')+('border:'+(item2.$orig.classShowBorder?'1px solid'+item2.$orig.classBorderColor:transparent)+';')+('border-radius:'+(item2.$orig.borderRadio+'px')+';')}}" data-class="{{item2.$orig}}" data-x="{{i}}" data-y="{{j}}" data-event-opts="{{[['longpress',[['onEditClass',['$event']]]],['tap',[['onEditClass',['$event']]]]]}}" catchlongpress="__e" catchtap="__e"><view hidden="{{!(item2.$orig.showName)}}" class="atom dp-fc w100 h100" style="{{'border:'+(item2.$orig.textShowBorder?'1px solid '+item2.$orig.textBorderColor:transparent)+';'+('border-radius:'+(item2.$orig.textBorderRadio+'px')+';')+('color:'+(item2.$orig.textColor)+';')+('background-color:'+(item2.$orig.textBgc)+';')}}"><text style="{{'overflow:hidden;'+('font-size:'+(item2.$orig.textSize+'px')+';')}}">{{item2.$orig.name}}</text></view><block wx:if="{{item2.$orig.showIcon}}"><view class="{{['iconfont f-1',item2.$orig.icon]}}" style="{{'text-align:center;margin:0 auto;width:100%;'+('border:'+(item2.$orig.iconShowBorder?'1px solid '+item2.$orig.iconBorderCorlor:transparent)+';')+('border-radius:'+(item2.$orig.iconBorderRadio+'px')+';')+('color:'+(item2.$orig.iconColor)+';')+('background-color:'+(item2.$orig.iconBgc)+';')+('font-size:'+(item2.$orig.iconSize+'px')+';')}}"></view></block><view class="w100 dp-f fb-100"><block wx:if="{{item2.$orig.showStime}}"><text style="{{'border:'+(item2.$orig.stimeShowBorder?'1px solid '+item2.$orig.stimeBorderCorlor:transparent)+';'+('border-radius:'+(item2.$orig.stimeBorderRadio?'20px 0 0 20px':'')+';')+('color:'+(item2.$orig.stimeColor)+';')+('font-size:'+(item2.$orig.stimeSize+'px')+';')}}">{{''+item2.m2+''}}</text></block><block wx:if="{{item2.$orig.showDur}}"><text>/</text></block><block wx:if="{{item2.$orig.showDur}}"><text style="{{'border:'+(item2.$orig.durShowBorder?'1px solid '+item2.$orig.durBorderCorlor:transparent)+';'+('border-radius:'+(item2.$orig.durBorderRadio?'20px 0 0 20px':'')+';')+('color:'+(item2.$orig.durColor)+';')+('font-size:'+(item2.$orig.durSize+'px')+';')}}">{{''+item2.m3+''}}</text></block></view></view></block></view></block></view></view><uni-popup class="vue-ref" vue-id="1" type="center" data-ref="popupCfg" bind:__l="__l" vue-slots="{{['default']}}"><view class="dp-f fd-c jc-sb ai-s bg-ff ac-fs p-0-40 w100 h100" id="popupCfgBase" show-scrollbar="true"><view class="dp-f fd-r jc-sb ai-c m-10-a p-0-20 w100 c-e0"><view class="iconfont"><text class="icon-xiuli"></text><text class="form-item-text">课程</text></view><input data-event-opts="{{[['input',[['onUpdateClassName',['$event']]]]]}}" class="pop-input" style="display:flex;flex:1;align-items:center;" value="{{classTmp.name}}" bindinput="__e"/></view><view class="dp-f fd-r jc-sb ai-c m-10-a p-0-20 w100 c-e0"><view class="iconfont dp-f ai-c"><text class="icon-xianshimoshi c-27"></text><text class="fs-32 c-3c">日期</text></view><uni-segmented-control class="f-1" vue-id="{{('2')+','+('1')}}" current="{{weekTabIndex}}" values="{{weekTabItems}}" style-type="button" active-color="#007aff" data-event-opts="{{[['^clickItem',[['onChangeWeekTabItem']]]]}}" bind:clickItem="__e" bind:__l="__l"></uni-segmented-control></view><view class="dp-f fd-r jc-sb ai-c m-10-a p-0-20 w100 c-e0"><view class="iconfont"><text class="icon-xiuli"></text><text class="form-item-text">{{"开始时间 "+$root.m4}}</text></view><view hidden="{{!(classTmp.time>=1200)}}" class="pop-text-warning">太晚了吧，救救孩子</view></view><view class="dp-f fd-r jc-sb ai-c m-10-a p-0-20 w100 c-e0"><view data-event-opts="{{[['tap',[['onSubClassTime',['$event']]]]]}}" class="slide-sub-btn pop-title" bindtap="__e">-</view><slider style="flex:1;" value="{{classTmp.time}}" max="1439" step="5" data-event-opts="{{[['change',[['sliderClassTimeChange',['$event']]]],['changing',[['sliderClassTimeChange',['$event']]]]]}}" bindchange="__e" bindchanging="__e"></slider><view data-event-opts="{{[['tap',[['onAddClassTime',['$event']]]]]}}" class="slide-add-btn pop-title" bindtap="__e">+</view></view><view class="dp-f fd-r jc-sb ai-c m-10-a p-0-20 w100 c-e0"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">{{"时长:"+$root.m5}}</text></view><view hidden="{{!(classTmp.dur>=240)}}" class="pop-text-warning">时间太长了吧，救救孩子</view></view><view class="dp-f fd-r jc-sb ai-c m-10-a p-0-20 w100 c-e0"><text data-event-opts="{{[['tap',[['e0',['$event']]]]]}}" class="text-grey slide-sub-btn" bindtap="__e">-</text><slider style="flex:1;" value="{{classTmp.dur}}" max="{{durMax}}" step="5" data-event-opts="{{[['changing',[['sliderClassDurChange',['$event']]]]]}}" bindchanging="__e"></slider><view data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="text-grey slide-sub-btn" bindtap="__e">+</view><view data-event-opts="{{[['tap',[['onExtendClassDurMax',['$event']]]]]}}" hidden="{{!(classTmp.dur>=240)}}" class="text-grey slide-sub-btn" bindtap="__e">></view></view><view class="uni-padding-wrap mt-50"><uni-segmented-control vue-id="{{('3')+','+('1')}}" current="{{classStyleTabIndex}}" values="{{classStyleTabItems}}" style-type="button" active-color="#007aff" data-event-opts="{{[['^clickItem',[['onChangeClassStyleTabItem']]]]}}" bind:clickItem="__e" bind:__l="__l"></uni-segmented-control></view><block wx:if="{{classStyleTabIndex==0}}"><view class="dp-f fd-c ai-fs w100 "><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">课程背景颜色</text></view><view class="z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-yes);"><color-picker vue-id="{{('4')+','+('1')}}" w="60" h="60" defColor="{{classTmp.classBgc}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetClassBgc']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker><color-picker vue-id="{{('5')+','+('1')}}" w="60" h="60" defColor="{{classTmp.classBgcGradient}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetClassBgcGradient']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view></view><view class="dp-f jc-sb c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示课程外框</text></view><switch class="{{['switch-outline',classTmp.classShowBorder?'checked':'']}}" color="#39B54A" checked="{{cfg.classShowBorder?true:false}}" data-event-opts="{{[['change',[['e2',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">外框颜色</text></view><color-picker vue-id="{{('6')+','+('1')}}" w="60" h="60" defColor="{{classTmp.classBorderColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetClassBorderColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view><view class="dp-f jc-sb ai-c c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">外框弧度</text></view><slider style="flex:1;" value="{{classTmp.borderRadio}}" min="0" max="20" show-value data-event-opts="{{[['change',[['sliderBorderRadio',['$event']]]]]}}" bindchange="__e"></slider></view></view></block><block wx:if="{{classStyleTabIndex==1}}"><view class="dp-f fd-c ai-fs w100 "><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示课程名称</text></view><switch class="{{['switch-class',classTmp.showName?'checked':'']}}" color="#39B54A" checked="{{classTmp.showName?true:false}}" data-event-opts="{{[['change',[['e3',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">名称颜色/名称背景颜色</text></view><view class="z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-yes);"><color-picker vue-id="{{('7')+','+('1')}}" w="60" h="60" defColor="{{classTmp.textColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetTextColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker><color-picker vue-id="{{('8')+','+('1')}}" w="60" h="60" defColor="{{classTmp.textBgc}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetTextBgc']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">名称大小</text></view><slider style="flex:1;" value="{{classTmp.textSize}}" min="0" max="30" show-value data-event-opts="{{[['change',[['sliderTextSize',['$event']]]]]}}" bindchange="__e"></slider></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示文字边框</text></view><switch class="{{['switch-outline',classTmp.textShowBorder?'checked':'']}}" color="#39B54A" checked="{{classTmp.textShowBorder?true:false}}" data-event-opts="{{[['change',[['e4',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">文字边框颜色</text></view><color-picker vue-id="{{('9')+','+('1')}}" w="60" h="60" defColor="{{classTmp.textBorderColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetTextBorderColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">文字边框弧度</text></view><slider style="flex:1;" value="{{classTmp.textBorderRadio}}" min="0" max="10" show-value data-event-opts="{{[['change',[['sliderTextBorderRadio',['$event']]]]]}}" bindchange="__e"></slider></view></view></block><block wx:if="{{classStyleTabIndex==2}}"><view class="dp-f fd-c ai-fs w100 "><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示图标</text></view><switch class="{{['switch-icon',classTmp.showIcon?'checked':'']}}" color="#39B54A" checked="{{classTmp.showIcon?true:false}}" data-event-opts="{{[['change',[['e5',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="dp-f jc-sb ai-c"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">选择图标</text></view><icon-picker vue-id="{{('10')+','+('1')}}" w="80" h="80" defIcon="{{classTmp.icon}}" tabItems="iconSetNames" iconSets="{{icons}}" data-event-opts="{{[['^loadIconPicker',[['cpGetIcon']]]]}}" bind:loadIconPicker="__e" bind:__l="__l"></icon-picker></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标颜色/图标背景颜色</text></view><view class="z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-yes);"><color-picker vue-id="{{('11')+','+('1')}}" w="60" h="60" defColor="{{classTmp.iconColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetIconColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker><color-picker vue-id="{{('12')+','+('1')}}" w="60" h="60" defColor="{{classTmp.iconBgc}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetIconBgc']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标大小</text></view><slider style="flex:1;" value="{{classTmp.iconSize}}" min="0" max="50" show-value data-event-opts="{{[['change',[['sliderIconSize',['$event']]]]]}}" bindchange="__e"></slider></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示图标边框</text></view><switch class="{{['switch-outline',classTmp.iconShowBorder?'checked':'']}}" color="#39B54A" checked="{{classTmp.iconShowBorder?true:false}}" data-event-opts="{{[['change',[['e6',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标边框颜色</text></view><color-picker vue-id="{{('13')+','+('1')}}" w="60" h="60" defColor="{{classTmp.iconBorderCorlor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetIconBorderColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标边框弧度</text></view><slider style="flex:1;" value="{{classTmp.iconBorderRadio}}" min="0" max="10" show-value data-event-opts="{{[['change',[['sliderIconBorderRadio',['$event']]]]]}}" bindchange="__e"></slider></view></view></block><block wx:if="{{classStyleTabIndex==3}}"><view class="dp-f fd-c ai-fs w100 "><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示开始时间</text></view><switch class="{{['switch-time',classTmp.showStime?'checked':'']}}" color="#39B54A" checked="{{classTmp.showStime?true:false}}" data-event-opts="{{[['change',[['e7',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">颜色/背景颜色</text></view><view class="dp-fc"><color-picker vue-id="{{('14')+','+('1')}}" w="60" h="60" defColor="{{classTmp.stimeColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetStimeColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker><color-picker vue-id="{{('15')+','+('1')}}" w="60" h="60" defColor="{{classTmp.stimeBgc}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetStimeBgc']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view></view><view class="dp-f jc-sb ai-c c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">字体大小</text></view><slider style="flex:1;" value="{{classTmp.stimeSize}}" min="0" max="50" show-value data-event-opts="{{[['change',[['sliderSimeSize',['$event']]]]]}}" bindchange="__e"></slider></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示边框</text></view><switch class="{{['switch-outline',classTmp.stimeShowBorder?'checked':'']}}" color="#39B54A" checked="{{classTmp.stimeShowBorder?true:false}}" data-event-opts="{{[['change',[['e8',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">边框颜色</text></view><color-picker vue-id="{{('16')+','+('1')}}" w="60" h="60" defColor="{{classTmp.stimeBorderColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetStimeBorderColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示课程时长</text></view><switch class="{{['switch-timeLen',classTmp.showDur?'checked':'']}}" color="#39B54A" checked="{{classTmp.showDur?true:false}}" data-event-opts="{{[['change',[['e9',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">颜色/背景颜色</text></view><view class="dp-fc"><color-picker vue-id="{{('17')+','+('1')}}" w="60" h="60" defColor="{{classTmp.durColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetDurColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker><color-picker vue-id="{{('18')+','+('1')}}" w="60" h="60" defColor="{{classTmp.durBgc}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetDurBgc']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view></view><view class="dp-f jc-sb ai-c c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">字体大小</text></view><slider style="flex:1;" value="{{classTmp.durSize}}" min="0" max="50" show-value data-event-opts="{{[['change',[['sliderDurSize',['$event']]]]]}}" bindchange="__e"></slider></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示边框</text></view><switch class="{{['switch-outline',classTmp.durShowBorder?'checked':'']}}" color="#39B54A" checked="{{classTmp.durShowBorder?true:false}}" data-event-opts="{{[['change',[['e10',['$event']]]]]}}" bindchange="__e"></switch></view><view class="dp-f jc-sb mt-10 c-fff w100"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">边框颜色</text></view><color-picker vue-id="{{('19')+','+('1')}}" w="60" h="60" defColor="{{classTmp.durBorderColor}}" tabItems="{{colorSetNames}}" colorSets="{{colorSets}}" data-event-opts="{{[['^loadColorPicker',[['cpGetDurBorderColor']]]]}}" bind:loadColorPicker="__e" bind:__l="__l"></color-picker></view></view></block><view class="dp-f fd-r jc-sb ai-c m-10-a p-0-20 w100 c-e0"><button hidden="{{!(showPop==1)}}" type="primary" data-event-opts="{{[['tap',[['submitUpdateClass',['$event']]]]]}}" bindtap="__e">修改</button><button hidden="{{!(showPop==2)}}" type="primary" data-event-opts="{{[['tap',[['submitAddClass',['$event']]]]]}}" bindtap="__e">增加</button><button type="default" data-event-opts="{{[['tap',[['cancelCreateProj',['$event']]]]]}}" bindtap="__e">取消</button><button hidden="{{!(showPop==1)}}" type="warn" data-event-opts="{{[['tap',[['onDeleteCurrClass',['$event']]]]]}}" bindtap="__e">删除</button></view></view></uni-popup></view>