<view class="body z-flex" style="{{'--dir:var(--dir-col);--wrap:var(--wrap-no);'+('background:'+('linear-gradient('+cfg.bgc+', '+cfg.bgcGradient+')')+';')}}" id="topview"><view class="head"></view><view class="main z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-no);"><view class="dp-fc fd-c ruler-dummy"></view><view class="dp-fc fd-c ruler"><block wx:for="{{projs.timeSpan}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="dp-fc f-1 w100 h100 time-vertical" style="{{'background:'+('linear-gradient('+cfg.axisColor+', '+cfg.axisColor1+')')+';'}}"><view class="dot dp-fc" style="{{'text-align:center;'+('color:'+(cfg.axisTextColor)+';')+('background:'+(cfg.axisTextBgColor)+';')}}"><text>{{projs.startLineTime/60+i}}</text></view></view></block></view><view class="dp-fc fd-c ruler-dummy"></view><view class="table" id="idtable"><block wx:for="{{$root.l1}}" wx:for-item="item1" wx:for-index="i" wx:key="i"><view hidden="{{!(item1.m0)}}" class="{{['col-frame',[(item1.m1)?'emphasis':'']]}}" style="{{'height:'+(projs.tableHeight+'px')+';'+('background:'+('linear-gradient('+cfg.colBgc+', '+cfg.colBgcGradient+')')+';')}}" data-class="{{item1.$orig}}" data-x="{{i}}" data-event-opts="{{[['tap',[['onNewClass',['$event']]]],['longpress',[['onNewClass',['$event']]]]]}}" catchtap="__e" catchlongpress="__e"><block wx:for="{{item1.l0}}" wx:for-item="item2" wx:for-index="j" wx:key="j"><view class="dp-f fw-w item-frame" style="{{'--dir:var(--dir-row);--wrap:var(--wrap-yes);width:100%;text-align:center;'+('margin-top:'+(item2.$orig.margintop+'px')+';')+('height:'+(item2.$orig.height+'px')+';')+('background:'+('linear-gradient('+item2.$orig.bgc+', '+item2.$orig.bgcGradient+')')+';')+('border:'+(item2.$orig.showBorder?'1px solid'+item2.$orig.borderColor:transparent)+';')+('border-radius:'+(item2.$orig.borderRadio+'px')+';')}}" data-class="{{item2.$orig}}" data-x="{{i}}" data-y="{{j}}" data-event-opts="{{[['longpress',[['onEditClass',['$event']]]],['tap',[['onEditClass',['$event']]]]]}}" catchlongpress="__e" catchtap="__e"><view hidden="{{!(item2.$orig.showName)}}" class="atom z-flex" style="{{'text-align:center;--dir:var(--dir-row);--wrap:var(--wrap-yes);margin:0 auto;'+('border:'+(item2.$orig.textShowBorder?'1px solid '+item2.$orig.textBorderColor:transparent)+';')+('border-radius:'+(item2.$orig.textBorderRadio+'px')+';')+('color:'+(item2.$orig.textColor)+';')+('background-color:'+(item2.$orig.textBgColor)+';')}}"><text style="{{'overflow:hidden;'+('font-size:'+(item2.$orig.textSize+'px')+';')}}">{{item2.$orig.name}}</text></view><view hidden="{{!(item2.$orig.showIcon)}}" class="{{['iconfont',item2.$orig.icon]}}" style="{{'text-align:center;margin:0 auto;width:100%;'+('border:'+(item2.$orig.iconShowBorder?'1px solid '+item2.$orig.iconBorderCorlor:transparent)+';')+('border-radius:'+(item2.$orig.iconBorderRadio+'px')+';')+('color:'+(item2.$orig.iconColor)+';')+('background-color:'+(item2.$orig.iconBgColor)+';')+('font-size:'+(item2.$orig.iconSize+'px')+';')}}"></view><view class="w100 dp-fc"><view>{{item2.m2}}</view>/<view>{{item2.m3}}</view></view></view></block></view></block></view></view><uni-transition vue-id="1" mode-class="{{['fade']}}" styles="{{transfromClass}}" show="{{showPop>0}}" data-event-opts="{{[['^change',[['e0']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view class="form-top-view z-flex" style="{{'--dir:var(--dir-col);--wrap:var(--wrap-no);'+('height:'+(projs.tableHeight+'px')+';')}}" scroll-y="true" show-scrollbar="true"><view class="form-item margin-top colors-white-base"><view class="iconfont"><text class="icon-xiuli"></text><text class="form-item-text">课程</text></view><input data-event-opts="{{[['input',[['onUpdateClassName',['$event']]]]]}}" class="pop-input" style="display:flex;flex:1;align-items:center;" value="{{cfgt.name}}" bindinput="__e"/></view><view class="form-item margin-top colors-white-base"><view class="iconfont"><text class="icon-xiuli"></text><text class="form-item-text">日期</text></view><radio-group name="week"><label data-event-opts="{{[['tap',[['e1',['$event']]]]]}}" class="radio-bg" bindtap="__e"><radio value="monday" checked="{{cfgt.weekday=='monday'}}"></radio><text class="pop-text">周一</text></label><label data-event-opts="{{[['tap',[['onChangeWeekday',['tuesday']]]]]}}" class="radio-bg" bindtap="__e"><radio value="tuesday" checked="{{cfgt.weekday=='tuesday'}}"></radio><text class="pop-text">周二</text></label><label data-event-opts="{{[['tap',[['onChangeWeekday',['wednesday']]]]]}}" class="radio-bg" bindtap="__e"><radio value="wednesday" checked="{{cfgt.weekday=='wednesday'}}"></radio><text class="pop-text">周三</text></label><label data-event-opts="{{[['tap',[['onChangeWeekday',['thursday']]]]]}}" class="radio-bg" bindtap="__e"><radio value="thursday" checked="{{cfgt.weekday=='thursday'}}"></radio><text class="pop-text">周四</text></label><label data-event-opts="{{[['tap',[['onChangeWeekday',['friday']]]]]}}" class="radio-bg" bindtap="__e"><radio value="friday" checked="{{cfgt.weekday=='friday'}}"></radio><text class="pop-text">周五</text></label><label data-event-opts="{{[['tap',[['onChangeWeekday',['saterday']]]]]}}" hidden="{{!(cfg.daysMode)}}" class="radio-bg" bindtap="__e"><radio value="saterday" checked="{{cfgt.weekday=='saterday'}}"></radio><text class="pop-text">周六</text></label><label data-event-opts="{{[['tap',[['onChangeWeekday',['sunday']]]]]}}" hidden="{{!(cfg.daysMode)}}" class="radio-bg" bindtap="__e"><radio value="sunday" checked="{{cfgt.weekday=='sunday'}}"></radio><text class="pop-text">周日</text></label></radio-group></view><view class="form-item margin-top colors-white-base"><view class="iconfont"><text class="icon-xiuli"></text><text class="form-item-text">{{"开始时间 "+$root.m4}}</text></view><view hidden="{{!(cfgt.time>=1200)}}" class="pop-text-warning">太晚了吧，救救孩子</view></view><view class="form-item colors-white-base"><view data-event-opts="{{[['tap',[['onSubClassTime',['$event']]]]]}}" class="slide-sub-btn pop-title" bindtap="__e">-</view><slider style="flex:1;" value="{{cfgt.time}}" max="1439" step="5" data-event-opts="{{[['change',[['sliderClassTimeChange',['$event']]]],['changing',[['sliderClassTimeChange',['$event']]]]]}}" bindchange="__e" bindchanging="__e"></slider><view data-event-opts="{{[['tap',[['onAddClassTime',['$event']]]]]}}" class="slide-add-btn pop-title" bindtap="__e">+</view></view><view class="form-item  colors-white-base"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">{{"时长:"+$root.m5}}</text></view><view hidden="{{!(cfgt.dur>=240)}}" class="pop-text-warning">时间太长了吧，救救孩子</view></view><view class="form-item colors-white-base"><text data-event-opts="{{[['tap',[['e2',['$event']]]]]}}" class="text-grey slide-sub-btn" bindtap="__e">-</text><slider style="flex:1;" value="{{cfgt.dur}}" max="{{durMax}}" step="5" data-event-opts="{{[['changing',[['sliderClassDurChange',['$event']]]]]}}" bindchanging="__e"></slider><view data-event-opts="{{[['tap',[['e3',['$event']]]]]}}" class="text-grey slide-sub-btn" bindtap="__e">+</view><view data-event-opts="{{[['tap',[['onExtendClassDurMax',['$event']]]]]}}" hidden="{{!(cfgt.dur>=240)}}" class="text-grey slide-sub-btn" bindtap="__e">></view></view><view class="uni-padding-wrap mt-50"><uni-segmented-control vue-id="{{('2')+','+('1')}}" current="{{classStyleTabIndex}}" values="{{classStyleTabItems}}" style-type="button" active-color="#007aff" data-event-opts="{{[['^clickItem',[['onChangeClassStyleTabItem']]]]}}" bind:clickItem="__e" bind:__l="__l"></uni-segmented-control></view><block wx:if="{{classStyleTabIndex===0}}"><view class="form-item margin-top colors-white-base"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">课程背景颜色</text></view><view class="z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-yes);"><view data-event-opts="{{[['tap',[['e4',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.bgc)+';'}}" bindtap="__e"></view><view data-event-opts="{{[['tap',[['e5',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.bgcGradient)+';'}}" bindtap="__e"></view></view></view></block><block wx:if="{{classStyleTabIndex===0}}"><view class="form-item colors-white-base"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示课程外框</text></view><switch class="{{['switch-sex',cfgt.showBorder?'checked':'']}}" color="#39B54A" checked="{{cfg.showBorder?true:false}}" data-event-opts="{{[['change',[['e6',['$event']]]]]}}" bindchange="__e"></switch></view></block><block wx:if="{{classStyleTabIndex===0}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">外框颜色</text></view><view class="action"><view data-event-opts="{{[['tap',[['e7',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.borderColor)+';'}}" bindtap="__e"></view></view></view></block><block wx:if="{{classStyleTabIndex===0}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">外框弧度</text></view><slider style="flex:1;" value="{{cfgt.borderRadio}}" min="0" max="20" show-value data-event-opts="{{[['change',[['sliderBorderRadio',['$event']]]]]}}" bindchange="__e"></slider></view></block><block wx:if="{{classStyleTabIndex===1}}"><view class="form-item margin-top colors-white-base"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示课程名称</text></view><switch class="{{['switch-sex',cfgt.showName?'checked':'']}}" color="#39B54A" checked="{{cfgt.showName?true:false}}" data-event-opts="{{[['change',[['e8',['$event']]]]]}}" bindchange="__e"></switch></view></block><block wx:if="{{classStyleTabIndex===1}}"><view class="form-item margin-top colors-white-base"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">名称颜色/名称背景颜色</text></view><view class="z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-yes);"><view class="action"><view data-event-opts="{{[['tap',[['e9',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.textColor)+';'}}" bindtap="__e"></view></view><view class="action"><view data-event-opts="{{[['tap',[['e10',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.textBgColor)+';'}}" bindtap="__e"></view></view></view></view></block><block wx:if="{{classStyleTabIndex===1}}"><view class="form-item margin-top colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">名称大小</text></view><slider style="flex:1;" value="{{cfgt.textSize}}" min="0" max="30" show-value data-event-opts="{{[['change',[['sliderTextSize',['$event']]]]]}}" bindchange="__e"></slider></view></block><block wx:if="{{classStyleTabIndex===1}}"><view class="form-item margin-top colors-white-base "><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示文字边框</text></view><switch class="{{['switch-sex',cfgt.textShowBorder?'checked':'']}}" color="#39B54A" checked="{{cfgt.textShowBorder?true:false}}" data-event-opts="{{[['change',[['e11',['$event']]]]]}}" bindchange="__e"></switch></view></block><block wx:if="{{classStyleTabIndex===1}}"><view class="form-item margin-top colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">文字边框颜色</text></view><view class="action"><view data-event-opts="{{[['tap',[['e12',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.textBorderColor)+';'}}" bindtap="__e"></view></view></view></block><block wx:if="{{classStyleTabIndex===1}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">文字边框弧度</text></view><slider style="flex:1;" value="{{cfgt.textBorderRadio}}" min="0" max="10" show-value data-event-opts="{{[['change',[['sliderTextBorderRadio',['$event']]]]]}}" bindchange="__e"></slider></view></block><block wx:if="{{classStyleTabIndex===2}}"><view class="form-item colors-white-base "><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示图标</text></view><switch class="{{['switch-sex',cfgt.showIcon?'checked':'']}}" color="#39B54A" checked="{{cfgt.showIcon?true:false}}" data-event-opts="{{[['change',[['e13',['$event']]]]]}}" bindchange="__e"></switch></view></block><block wx:if="{{classStyleTabIndex===2}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">选择图标</text></view><view data-event-opts="{{[['tap',[['e14',['$event']]]]]}}" class="{{['iconfont',cfgt.icon]}}" bindtap="__e"></view></view></block><block wx:if="{{classStyleTabIndex===2}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标颜色/图标背景颜色</text></view><view class="z-flex" style="--dir:var(--dir-row);--wrap:var(--wrap-yes);"><view class="action"><view data-event-opts="{{[['tap',[['e15',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.iconColor)+';'}}" bindtap="__e"></view></view><view class="action"><view data-event-opts="{{[['tap',[['e16',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.iconBgColor)+';'}}" bindtap="__e"></view></view></view></view></block><block wx:if="{{classStyleTabIndex===2}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标大小</text></view><slider style="flex:1;" value="{{cfgt.iconSize}}" min="0" max="50" show-value data-event-opts="{{[['change',[['sliderIconSize',['$event']]]]]}}" bindchange="__e"></slider></view></block><block wx:if="{{classStyleTabIndex===2}}"><view class="form-item colors-white-base "><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示图标边框</text></view><switch class="{{['switch-sex',cfgt.iconShowBorder?'checked':'']}}" color="#39B54A" checked="{{cfgt.iconShowBorder?true:false}}" data-event-opts="{{[['change',[['e17',['$event']]]]]}}" bindchange="__e"></switch></view></block><block wx:if="{{classStyleTabIndex===2}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标边框颜色</text></view><view class="action"><view data-event-opts="{{[['tap',[['e18',['$event']]]]]}}" class="test" style="{{'background:'+(cfgt.iconBorderCorlor)+';'}}" bindtap="__e"></view></view></view></block><block wx:if="{{classStyleTabIndex===2}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">图标边框弧度</text></view><slider style="flex:1;" value="{{cfgt.iconBorderRadio}}" min="0" max="10" show-value data-event-opts="{{[['change',[['sliderIconBorderRadio',['$event']]]]]}}" bindchange="__e"></slider></view></block><block wx:if="{{classStyleTabIndex===3}}"><view class="form-item colors-white-base indent-s"><view class="content"><text class="cuIcon-circlefill text-grey"></text><text class="text-grey">显示开始时间</text></view><switch class="{{['switch-sex',cfgt.iconShowTime?'checked':'']}}" color="#39B54A" checked="{{cfgt.iconShowTime?true:false}}" data-event-opts="{{[['change',[['e19',['$event']]]]]}}" bindchange="__e"></switch></view></block><view class="form-item margin-top colors-white-base"><button hidden="{{!(showPop==1)}}" type="primary" data-event-opts="{{[['tap',[['submitUpdateClass',['$event']]]]]}}" bindtap="__e">修改</button><button hidden="{{!(showPop==2)}}" type="primary" data-event-opts="{{[['tap',[['submitAddClass',['$event']]]]]}}" bindtap="__e">增加</button><button type="default" data-event-opts="{{[['tap',[['cancelCreateProj',['$event']]]]]}}" bindtap="__e">取消</button><button type="warn" data-event-opts="{{[['tap',[['onDeleteCurrClass',['$event']]]]]}}" bindtap="__e">删除</button></view></scroll-view></uni-transition><uni-transition vue-id="3" mode-class="{{['fade']}}" styles="{{transfromClass}}" show="{{showColorPicker>0}}" data-event-opts="{{[['^change',[['transChange']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><view class="form-top-view dp-fc fd-c w100 h100"><view class="uni-padding-wrap uni-common-mt"><uni-segmented-control vue-id="{{('4')+','+('3')}}" current="{{colorSetsTabIndex}}" values="{{colorSetsTabItems}}" style-type="button" active-color="#007aff" data-event-opts="{{[['^clickItem',[['onChangeColorSetTabItem']]]]}}" bind:clickItem="__e" bind:__l="__l"></uni-segmented-control></view><block wx:if="{{colorSetsTabIndex==0}}"><view class="pop-item-base" style="flex-flow:row wrap;"><block wx:for="{{colorSets[0].colors}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="{{['pop-color-block',[(colors[i].color==cfg.bgc&&showColorPicker==1||colors[i].color==cfg.bgcGradient&&showColorPicker==2||colors[i].color==cfg.colBgc&&showColorPicker==3||colors[i].color==cfg.colBgcGradient&&showColorPicker==4||colors[i].color==cfg.axisColor&&showColorPicker==5||colors[i].color==cfg.axisColor1&&showColorPicker==6||colors[i].color==cfg.axisTextColor&&showColorPicker==7||colors[i].color==cfg.axisTextBgColor&&showColorPicker==8)?'popColorBlockSelected':'']]}}" style="{{'background:'+(item.color)+';'}}" data-color="{{item}}" data-index="{{i}}" data-event-opts="{{[['tap',[['onSelectColor',['$event']]]]]}}" bindtap="__e"></view></block></view></block><block wx:if="{{colorSetsTabIndex==1}}"><view class="pop-item-base" style="flex-flow:row wrap;"><view class="pop-title">颜色</view><block wx:for="{{colorSets[1].colors}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="{{['pop-color-block',[(colors[i].color==cfg.bgc&&showColorPicker==1||colors[i].color==cfg.bgcGradient&&showColorPicker==2||colors[i].color==cfg.colBgc&&showColorPicker==3||colors[i].color==cfg.colBgcGradient&&showColorPicker==4||colors[i].color==cfg.axisColor&&showColorPicker==5||colors[i].color==cfg.axisColor1&&showColorPicker==6||colors[i].color==cfg.axisTextColor&&showColorPicker==7||colors[i].color==cfg.axisTextBgColor&&showColorPicker==8)?'popColorBlockSelected':'']]}}" style="{{'background:'+(item.color)+';'}}" data-color="{{item}}" data-index="{{i}}" data-event-opts="{{[['tap',[['onSelectColor',['$event']]]]]}}" bindtap="__e"></view></block></view></block><view class="dp-fc"><view data-event-opts="{{[['tap',[['e20',['$event']]]]]}}" class="dp-fc btn w-200 h-80 mt-50 c-000" bindtap="__e">确定</view></view></view></uni-transition><uni-transition vue-id="5" mode-class="{{['fade']}}" styles="{{transfromClass}}" show="{{showIconPicker}}" data-event-opts="{{[['^change',[['e21']]]]}}" bind:change="__e" bind:__l="__l" vue-slots="{{['default']}}"><scroll-view class="form-top-view z-flex" style="{{'--dir:var(--dir-col);--wrap:var(--wrap-yes);margin:0 auto;'+('height:'+(projs.tableHeight+'px')+';')}}" scroll-y="true" show-scrollbar="true"><block wx:for="{{icons}}" wx:for-item="item" wx:for-index="i" wx:key="i"><view class="{{['iconfont icon-block',[(item==cfgt.icon)?'popColorBlockSelected':''],item]}}" style="display:inline-block;font-size:30px;text-align:center;" data-icon="{{item}}" data-event-opts="{{[['tap',[['onSelectIcon',['$event']]]]]}}" bindtap="__e"></view></block><view class="pop-item-base" style="flex-flow:row wrap;justify-content:center;"><view data-event-opts="{{[['tap',[['e22',['$event']]]]]}}" class="atom" style="width:100%;justify-content:center;display:flex;" bindtap="__e">确定</view></view></scroll-view></uni-transition></view>